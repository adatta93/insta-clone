{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","services/firebase-services.js","components/user-image.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/header.js","hooks/use-user.js","components/profile/header.js","components/profile/photos.js","components/profile/user-profile.js","pages/profile-page.js"],"names":["module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","doesUsernameExist","userName","a","firebase","firestore","collection","where","get","result","docs","length","getUserObjByUserId","userId","user","map","item","data","docId","id","getUserByUsername","username","getSuggestedUsersFromFirebase","following","limit","updateLoggedInUserFollowing","userDocId","profileId","isFollowing","doc","update","FieldValue","arrayRemove","arrayUnion","updateOtherUserFollowers","profileDocId","followers","getPhotosForTimeline","userFollowedPhotos","photo","all","userLikedPhoto","likes","includes","photosWithUserDetails","togglePhotoLike","photoLike","addNewComment","displayName","comment","comments","getPhotosByUserId","isUserFollowingProfile","loggedInUsername","profileUserId","response","UserImage","className","src","alt","title","onError","e","target","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","GenStateSuspendedStart","method","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GenStateSuspendedYield","makeInvokeMethod","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","TypeError","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","constructor","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","from","unsupportedIterableToArray","Header","useContext","UserContext","FirebaseContext","to","ROUTES","fill","viewBox","xmlns","d","onClick","auth","signOut","onKeyDown","stroke","strokeLinecap","strokeLinejoin","strokeWidth","toLowerCase","circle","height","width","tabIndex","useUser","useState","activeUser","setActiveUser","useEffect","uid","getUserByUserId","setUser","profile","photosCount","followerCount","setFollowerCount","isFollowingProfile","setIsFollowingProfile","activeFollowBtn","handleToggleFollow","prevState","isLoggedInUserFollowingProfile","fullName","Photos","photos","imageSrc","caption","fillRule","clipRule","count","UserProfile","useReducer","newState","photosCollection","dispatch","getProfileAndPhotos","Profile","useParams","history","useHistory","userObj","checkUserExist"],"mappings":"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","file":"static/js/4.e46f6f74.chunk.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { firebase, FieldValue } from \"../lib/firebase\";\r\n\r\nexport async function doesUsernameExist(userName) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", userName)\r\n    .get();\r\n  return result.docs.length > 0;\r\n}\r\n\r\nexport async function getUserObjByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function getSuggestedUsersFromFirebase(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"not-in\", [userId, ...following])\r\n    .limit(10)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  userDocId,\r\n  profileId,\r\n  isFollowing\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userDocId)\r\n    .update({\r\n      following: isFollowing\r\n        ? FieldValue.arrayRemove(profileId)\r\n        : FieldValue.arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function updateOtherUserFollowers(\r\n  profileDocId,\r\n  userId,\r\n  isFollowing\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowing\r\n        ? FieldValue.arrayRemove(userId)\r\n        : FieldValue.arrayUnion(userId),\r\n    });\r\n}\r\n\r\nexport async function getPhotosForTimeline(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes?.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n\r\n      const [user] = await getUserObjByUserId(photo.userId);\r\n      const { username } = user;\r\n\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n  return photosWithUserDetails;\r\n}\r\n\r\nexport async function togglePhotoLike(docId, photoLike, userId) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .doc(docId)\r\n    .update({\r\n      likes: photoLike\r\n        ? FieldValue.arrayRemove(userId)\r\n        : FieldValue.arrayUnion(userId),\r\n    });\r\n}\r\n\r\nexport async function addNewComment(docId, displayName, comment) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .doc(docId)\r\n    .update({\r\n      comments: FieldValue.arrayUnion({ displayName, comment }),\r\n    });\r\n}\r\n\r\nexport async function getPhotosByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  return result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n}\r\n\r\nexport async function isUserFollowingProfile(loggedInUsername, profileUserId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUsername)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n  const [response = {}] = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n  return !!response.userId;\r\n}\r\n","export default function UserImage({ username, className }) {\r\n  return (\r\n    <img\r\n      src={`/images/avatars/${username}.png`}\r\n      alt=\"User Profile\"\r\n      title={username}\r\n      className={className}\r\n      onError={(e) => {\r\n        e.target.src = \"/images/avatars/default.png\";\r\n      }}\r\n    />\r\n  );\r\n}\r\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase-context\";\r\nimport UserContext from \"../context/user-context\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport UserImage from \"./user-image\";\r\n\r\nexport default function Header() {\r\n  const { user } = useContext(UserContext);\r\n  const { firebase } = useContext(FirebaseContext);\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white border-b border-gray-primary mb-8\">\r\n      <div className=\"container max-w-screen-lg mx-auto px-5 h-full\">\r\n        <div className=\"flex justify-between h-full\">\r\n          <div className=\"flex items-center text-gray-700 text-center\">\r\n            {/* <Link to={ROUTES.DASHBOARD} className=\"w-6/12\">\r\n              <img src=\"/images/logo.png\" alt=\"Insta\" className=\"mt-2\" />\r\n            </Link> */}\r\n            <Link to={ROUTES.DASHBOARD} className=\"w-12/12\">\r\n              <span className=\"mt-2 text-black-light font-medium text-xl\">\r\n                Insta Clone\r\n              </span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"flex items-center text-gray-700 text-center\">\r\n            {user ? (\r\n              <>\r\n                <Link to={ROUTES.DASHBOARD}>\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\"></path>\r\n                  </svg>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Log Out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"Enter\") {\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}>\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"></path>\r\n                  </svg>\r\n                </button>\r\n                <div className=\"flex items-center\">\r\n                  {user.displayName ? (\r\n                    <Link to={`/p/${user.displayName.toLowerCase()}`}>\r\n                      <UserImage\r\n                        username={user.displayName}\r\n                        className=\"w-8 h-8 rounded-full\"\r\n                      />\r\n                    </Link>\r\n                  ) : (\r\n                    <Skeleton circle={true} height={32} width={32} />\r\n                  )}\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN} className=\"mr-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    tabIndex=\"-1\"\r\n                    className=\"bg-blue-medium hover:bg-blue-mediumHover font-bold text-sm text-white rounded w-20 h-8\">\r\n                    Log In\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGNUP} className=\"mr-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    tabIndex=\"-1\"\r\n                    className=\"text-blue-medium hover:text-white hover:bg-blue-medium font-bold text-sm border border-blue-medium rounded w-20 h-8\">\r\n                    Sign Up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport UserContext from \"../context/user-context\";\r\nimport { getUserObjByUserId } from \"../services/firebase-services\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserByUserId() {\r\n      const [result] = await getUserObjByUserId(user.uid);\r\n      setActiveUser(result || {});\r\n    }\r\n    if (user?.uid) {\r\n      getUserByUserId();\r\n    } else {\r\n      setActiveUser({});\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser, setUser: setActiveUser };\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport {\r\n  isUserFollowingProfile,\r\n  updateLoggedInUserFollowing,\r\n  updateOtherUserFollowers,\r\n} from \"../../services/firebase-services\";\r\nimport UserImage from \"../user-image\";\r\n\r\nexport default function Header({\r\n  profile,\r\n  photosCount,\r\n  followerCount,\r\n  setFollowerCount,\r\n}) {\r\n  const { user } = useUser();\r\n\r\n  const [isFollowingProfile, setIsFollowingProfile] = useState(false);\r\n  const activeFollowBtn =\r\n    user && user.username && user.username !== profile.username;\r\n\r\n  const handleToggleFollow = async () => {\r\n    setIsFollowingProfile((prevState) => !prevState);\r\n    setFollowerCount({\r\n      followerCount: isFollowingProfile ? followerCount - 1 : followerCount + 1,\r\n    });\r\n\r\n    await updateLoggedInUserFollowing(\r\n      user.docId,\r\n      profile.userId,\r\n      isFollowingProfile\r\n    );\r\n    await updateOtherUserFollowers(\r\n      profile.docId,\r\n      user.userId,\r\n      isFollowingProfile\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    const isLoggedInUserFollowingProfile = async () => {\r\n      const isFollowing = await isUserFollowingProfile(\r\n        user.username,\r\n        profile.userId\r\n      );\r\n      setIsFollowingProfile(isFollowing);\r\n    };\r\n    if (user?.username && profile?.userId) {\r\n      isLoggedInUserFollowingProfile();\r\n    }\r\n  }, [user.username, profile.userId]);\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\r\n      <div className=\"container flex justify-center\">\r\n        {profile?.username ? (\r\n          <UserImage\r\n            username={profile.username}\r\n            className=\"rounded-full h-40 w-40 flex\"\r\n          />\r\n        ) : (\r\n          <Skeleton circle={true} height={160} width={160} />\r\n        )}\r\n      </div>\r\n      <div className=\"flex items-center justify-center flex-col col-span-2\">\r\n        <div className=\"container flex items-center\">\r\n          {profile.username ? (\r\n            <p className=\"text-2xl mr-4\">{profile.username}</p>\r\n          ) : (\r\n            <Skeleton width={180} className=\"mr-3\" />\r\n          )}\r\n          {user && Object.keys(user).length === 0 ? null : user?.username &&\r\n            profile?.username ? (\r\n            activeFollowBtn && (\r\n              <button\r\n                className=\"bg-blue-medium font-bold text-white text-sm rounded w-20 h-8\"\r\n                onClick={handleToggleFollow}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === \"Enter\") {\r\n                    handleToggleFollow();\r\n                  }\r\n                }}>\r\n                {isFollowingProfile ? \"Unfollow\" : \"Follow\"}\r\n              </button>\r\n            )\r\n          ) : (\r\n            <Skeleton width={90} height={42} />\r\n          )}\r\n        </div>\r\n        <div className=\"container flex mt-4\">\r\n          {profile?.followers && profile?.following ? (\r\n            <>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{photosCount}</span> photos\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{followerCount}</span>{\" \"}\r\n                {followerCount <= 1 ? \"follower\" : \"followers\"}\r\n              </p>\r\n              <p className=\"mr-10\">\r\n                <span className=\"font-bold\">{profile.following.length}</span>{\" \"}\r\n                following\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <div className=\"container\">\r\n              <Skeleton height={24} />\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"container mt-4\">\r\n          <p className=\"font-medium\">\r\n            {profile?.fullName ? profile.fullName : <Skeleton height={24} />}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import Skeleton from \"react-loading-skeleton\";\r\n\r\nexport default function Photos({ photos }) {\r\n  return (\r\n    <div className=\"h-16 border-t border-gray-primary mt-12 pt-4\">\r\n      <div className=\"grid grid-cols-3 gap-8 mt-4 mb-12\">\r\n        {!photos ? (\r\n          <Skeleton count={12} width={320} height={400} />\r\n        ) : photos.length > 0 ? (\r\n          photos.map((photo) => (\r\n            <div key={photo.docId} className=\"relative group\">\r\n              <img src={photo.imageSrc} alt={photo.caption} />\r\n              <div className=\"hidden absolute bottom-0 left-0 z-10 w-full h-full justify-evenly items-center bg-black-faded group-hover:flex\">\r\n                <p className=\"flex item-center text-white font-bold\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                  {photo.likes.length}\r\n                </p>\r\n                <p className=\"flex item-center text-white font-bold\">\r\n                  <svg\r\n                    className=\"w-6 h-6\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\"\r\n                      clipRule=\"evenodd\"\r\n                    />\r\n                  </svg>\r\n                  {photo.comments.length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : null}\r\n      </div>\r\n      {(!photos || photos.length === 0) && (\r\n        <p className=\"text-2xl text-center\">No Posts Yet</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useReducer } from \"react\";\r\nimport { getPhotosByUserId } from \"../../services/firebase-services\";\r\nimport Header from \"./header\";\r\nimport Photos from \"./photos\";\r\n\r\nexport default function UserProfile({ user }) {\r\n  const initialState = {\r\n    profile: {},\r\n    photosCollection: [],\r\n    followerCount: 0,\r\n  };\r\n  const reducer = (state, newState) => ({ ...state, ...newState });\r\n\r\n  const [{ profile, photosCollection, followerCount }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function getProfileAndPhotos() {\r\n      const photos = await getPhotosByUserId(user.userId);\r\n\r\n      dispatch({\r\n        profile: user,\r\n        photosCollection: photos,\r\n        followerCount: user.followers.length,\r\n      });\r\n    }\r\n\r\n    getProfileAndPhotos();\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <Header\r\n        profile={profile}\r\n        photosCount={photosCollection ? photosCollection.length : 0}\r\n        followerCount={followerCount}\r\n        setFollowerCount={dispatch}\r\n      />\r\n      <Photos photos={photosCollection} />\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { getUserByUsername } from \"../services/firebase-services\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport Header from \"../components/header\";\r\nimport UserProfile from \"../components/profile/user-profile\";\r\n\r\nexport default function Profile() {\r\n  const { username } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function checkUserExist() {\r\n      const userObj = await getUserByUsername(username);\r\n      if (userObj.length > 0) {\r\n        setUser(userObj[0]);\r\n      } else {\r\n        history.push(ROUTES.NOT_FOUND);\r\n      }\r\n    }\r\n    checkUserExist();\r\n  }, [username, history]);\r\n\r\n  return user ? (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"mx-auto max-w-screen-lg\">\r\n        <UserProfile user={user} />\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n"],"sourceRoot":""}