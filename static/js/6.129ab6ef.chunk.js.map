{"version":3,"sources":["services/firebase-services.js","components/user-image.js","components/header.js","hooks/use-user.js","context/logged-in-user-context.js","components/sidebar/suggested-profiles.js","components/sidebar/suggestion.js","components/sidebar/user.js","components/sidebar/sidebar.js","components/post/actions.js","components/post/add-comment.js","components/post/comments.js","components/post/footer.js","components/post/header.js","components/post/image.js","components/post/post.js","components/timeline.js","hooks/use-photos.js","pages/dashboard-page.js"],"names":["doesUsernameExist","userName","a","firebase","firestore","collection","where","get","result","docs","length","getUserObjByUserId","userId","user","map","item","data","docId","id","getUserByUsername","username","getSuggestedUsersFromFirebase","following","limit","updateLoggedInUserFollowing","userDocId","profileId","isFollowing","doc","update","FieldValue","arrayRemove","arrayUnion","updateOtherUserFollowers","profileDocId","followers","getPhotosForTimeline","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","includes","photosWithUserDetails","togglePhotoLike","photoLike","addNewComment","displayName","comment","comments","getPhotosByUserId","isUserFollowingProfile","loggedInUsername","profileUserId","response","UserImage","className","src","alt","title","onError","e","target","Header","useContext","UserContext","FirebaseContext","to","ROUTES","fill","viewBox","xmlns","d","type","onClick","auth","signOut","onKeyDown","key","stroke","strokeLinecap","strokeLinejoin","strokeWidth","toLowerCase","circle","height","width","tabIndex","useUser","useState","activeUser","setActiveUser","useEffect","uid","getUserByUserId","setUser","LoggedInUserContext","createContext","SuggestedProfile","profUsername","followed","setFollowed","Suggestion","profiles","setProfiles","getSuggestedUsers","prof","count","User","fullName","Sidebar","Actions","totalLikes","likedPhoto","handleFocus","setPhotoLike","setLikes","handlePhotoLike","prev","AddComment","setComments","commentInput","setComment","handleSubmit","ev","preventDefault","onSubmit","autoComplete","name","placeholder","value","onChange","ref","disabled","Comments","allComments","datePosted","latestOnTopComments","reverse","slice","formatDistance","Date","Footer","caption","Image","Post","content","useRef","imageSrc","current","focus","dateCreated","Timeline","photos","setPhotos","followedUserPhotos","sort","b","getTimelinePhotos","usePhotos","Dashboard","document","Provider"],"mappings":"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","file":"static/js/6.129ab6ef.chunk.js","sourcesContent":["import { firebase, FieldValue } from \"../lib/firebase\";\r\n\r\nexport async function doesUsernameExist(userName) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", userName)\r\n    .get();\r\n  return result.docs.length > 0;\r\n}\r\n\r\nexport async function getUserObjByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function getSuggestedUsersFromFirebase(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"not-in\", [userId, ...following])\r\n    .limit(10)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return user;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  userDocId,\r\n  profileId,\r\n  isFollowing\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(userDocId)\r\n    .update({\r\n      following: isFollowing\r\n        ? FieldValue.arrayRemove(profileId)\r\n        : FieldValue.arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function updateOtherUserFollowers(\r\n  profileDocId,\r\n  userId,\r\n  isFollowing\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowing\r\n        ? FieldValue.arrayRemove(userId)\r\n        : FieldValue.arrayUnion(userId),\r\n    });\r\n}\r\n\r\nexport async function getPhotosForTimeline(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes?.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n\r\n      const [user] = await getUserObjByUserId(photo.userId);\r\n      const { username } = user;\r\n\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n  return photosWithUserDetails;\r\n}\r\n\r\nexport async function togglePhotoLike(docId, photoLike, userId) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .doc(docId)\r\n    .update({\r\n      likes: photoLike\r\n        ? FieldValue.arrayRemove(userId)\r\n        : FieldValue.arrayUnion(userId),\r\n    });\r\n}\r\n\r\nexport async function addNewComment(docId, displayName, comment) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .doc(docId)\r\n    .update({\r\n      comments: FieldValue.arrayUnion({ displayName, comment }),\r\n    });\r\n}\r\n\r\nexport async function getPhotosByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n\r\n  return result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n}\r\n\r\nexport async function isUserFollowingProfile(loggedInUsername, profileUserId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUsername)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n  const [response = {}] = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n  return !!response.userId;\r\n}\r\n","export default function UserImage({ username, className }) {\r\n  return (\r\n    <img\r\n      src={`/images/avatars/${username}.png`}\r\n      alt=\"User Profile\"\r\n      title={username}\r\n      className={className}\r\n      onError={(e) => {\r\n        e.target.src = \"/images/avatars/default.png\";\r\n      }}\r\n    />\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase-context\";\r\nimport UserContext from \"../context/user-context\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport UserImage from \"./user-image\";\r\n\r\nexport default function Header() {\r\n  const { user } = useContext(UserContext);\r\n  const { firebase } = useContext(FirebaseContext);\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white border-b border-gray-primary mb-8\">\r\n      <div className=\"container max-w-screen-lg mx-auto px-5 h-full\">\r\n        <div className=\"flex justify-between h-full\">\r\n          <div className=\"flex items-center text-gray-700 text-center\">\r\n            {/* <Link to={ROUTES.DASHBOARD} className=\"w-6/12\">\r\n              <img src=\"/images/logo.png\" alt=\"Insta\" className=\"mt-2\" />\r\n            </Link> */}\r\n            <Link to={ROUTES.DASHBOARD} className=\"w-12/12\">\r\n              <span className=\"mt-2 text-black-light font-medium text-xl\">\r\n                Insta Clone\r\n              </span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"flex items-center text-gray-700 text-center\">\r\n            {user ? (\r\n              <>\r\n                <Link to={ROUTES.DASHBOARD}>\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light\"\r\n                    fill=\"currentColor\"\r\n                    viewBox=\"0 0 20 20\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\"></path>\r\n                  </svg>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Log Out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"Enter\") {\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}>\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth=\"2\"\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"></path>\r\n                  </svg>\r\n                </button>\r\n                <div className=\"flex items-center\">\r\n                  {user.displayName ? (\r\n                    <Link to={`/p/${user.displayName.toLowerCase()}`}>\r\n                      <UserImage\r\n                        username={user.displayName}\r\n                        className=\"w-8 h-8 rounded-full\"\r\n                      />\r\n                    </Link>\r\n                  ) : (\r\n                    <Skeleton circle={true} height={32} width={32} />\r\n                  )}\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN} className=\"mr-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    tabIndex=\"-1\"\r\n                    className=\"bg-blue-medium hover:bg-blue-mediumHover font-bold text-sm text-white rounded w-20 h-8\">\r\n                    Log In\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGNUP} className=\"mr-4\">\r\n                  <button\r\n                    type=\"button\"\r\n                    tabIndex=\"-1\"\r\n                    className=\"text-blue-medium hover:text-white hover:bg-blue-medium font-bold text-sm border border-blue-medium rounded w-20 h-8\">\r\n                    Sign Up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport UserContext from \"../context/user-context\";\r\nimport { getUserObjByUserId } from \"../services/firebase-services\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserByUserId() {\r\n      const [result] = await getUserObjByUserId(user.uid);\r\n      setActiveUser(result || {});\r\n    }\r\n    if (user?.uid) {\r\n      getUserByUserId();\r\n    } else {\r\n      setActiveUser({});\r\n    }\r\n  }, [user]);\r\n\r\n  return { user: activeUser, setUser: setActiveUser };\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nconst LoggedInUserContext = createContext(null);\r\n\r\nexport default LoggedInUserContext;\r\n","import { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport LoggedInUserContext from \"../../context/logged-in-user-context\";\r\nimport {\r\n  getUserObjByUserId,\r\n  updateLoggedInUserFollowing,\r\n  updateOtherUserFollowers,\r\n} from \"../../services/firebase-services\";\r\nimport UserImage from \"../user-image\";\r\n\r\nexport default function SuggestedProfile({\r\n  profileDocId,\r\n  profileId,\r\n  profUsername,\r\n  userId,\r\n  userDocId,\r\n}) {\r\n  const [followed, setFollowed] = useState(false);\r\n  const { setUser } = useContext(LoggedInUserContext);\r\n\r\n  async function handleFollowUser() {\r\n    setFollowed(true);\r\n    await updateLoggedInUserFollowing(userDocId, profileId, false);\r\n    await updateOtherUserFollowers(profileDocId, userId, false);\r\n    const [user] = await getUserObjByUserId(userId);\r\n    setUser(user);\r\n  }\r\n\r\n  return !followed ? (\r\n    <div className=\"flex items-center justify-between\">\r\n      <Link to={`/p/${profUsername}`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <UserImage\r\n            username={profUsername}\r\n            className=\"flex rounded-full w-8 mr-3\"\r\n          />\r\n          <p className=\"font-bold text-sm\">{profUsername}</p>\r\n        </div>\r\n      </Link>\r\n      <button\r\n        className=\"text-xs text-blue-medium font-bold\"\r\n        type=\"button\"\r\n        onClick={handleFollowUser}>\r\n        Follow\r\n      </button>\r\n    </div>\r\n  ) : null;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getSuggestedUsersFromFirebase } from \"../../services/firebase-services\";\r\nimport SuggestedProfile from \"./suggested-profiles\";\r\n\r\nexport default function Suggestion({ userId, following, docId }) {\r\n  const [profiles, setProfiles] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function getSuggestedUsers() {\r\n      const result = await getSuggestedUsersFromFirebase(userId, following);\r\n      setProfiles(result || []);\r\n    }\r\n    if (userId) {\r\n      getSuggestedUsers();\r\n    }\r\n  }, [userId, following]);\r\n\r\n  return !profiles ? (\r\n    <Skeleton count={1} height={150} className=\"mt-5\" />\r\n  ) : profiles.length > 0 ? (\r\n    <div className=\"rounded flex flex-col\">\r\n      <div className=\"flex items-center justify-between text-sm mb-2\">\r\n        <p className=\"font-bold text-gray-base\">Suggestions for you</p>\r\n      </div>\r\n      <div className=\"mt-4 grid gap-4\">\r\n        {profiles.map((prof) => (\r\n          <SuggestedProfile\r\n            key={prof.userId}\r\n            profileDocId={prof.docId}\r\n            profileId={prof.userId}\r\n            profUsername={prof.username}\r\n            userId={userId}\r\n            userDocId={docId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n","import Skeleton from \"react-loading-skeleton\";\r\nimport { Link } from \"react-router-dom\";\r\nimport UserImage from \"../user-image\";\r\n\r\nexport default function User({ username, fullName }) {\r\n  return !username || !fullName ? (\r\n    <Skeleton count={1} height={61} />\r\n  ) : (\r\n    <Link\r\n      to={`/p/${username}`}\r\n      className=\"grid grid-cols-4 gap-4 mb-6 items-center\">\r\n      <div className=\"flex items-center justify-between col-span-1\">\r\n        <UserImage\r\n          username={username}\r\n          className=\"rounded-full w-16 flex mr-3\"\r\n        />\r\n      </div>\r\n      <div className=\"col-span-3\">\r\n        <p className=\"font-bold text-sm\">{username}</p>\r\n        <p className=\"text-sm\">{fullName}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport LoggedInUserContext from \"../../context/logged-in-user-context\";\r\nimport Suggestion from \"./suggestion\";\r\nimport User from \"./user\";\r\n\r\nexport default function Sidebar() {\r\n  const {\r\n    user: { username, fullName, userId, following, docId } = {},\r\n  } = useContext(LoggedInUserContext);\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <User username={username} fullName={fullName} />\r\n      <Suggestion userId={userId} following={following} docId={docId} />\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useState } from \"react\";\r\nimport UserContext from \"../../context/user-context\";\r\nimport { togglePhotoLike } from \"../../services/firebase-services\";\r\n\r\nexport default function Actions({\r\n  docId,\r\n  totalLikes,\r\n  likedPhoto,\r\n  handleFocus,\r\n}) {\r\n  const {\r\n    user: { uid: userId = \"\" },\r\n  } = useContext(UserContext);\r\n  const [photoLike, setPhotoLike] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n\r\n  const handlePhotoLike = async () => {\r\n    setPhotoLike((prev) => !prev);\r\n    await togglePhotoLike(docId, photoLike, userId);\r\n    setLikes((prev) => (photoLike ? prev - 1 : prev + 1));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            className={`w-6 h-6 mr-4 cursor-pointer select-none ${\r\n              photoLike ? \"text-red-primary fill-red\" : \"text-black-light\"\r\n            }`}\r\n            onClick={handlePhotoLike}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handlePhotoLike();\r\n              }\r\n            }}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth=\"2\"\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"></path>\r\n          </svg>\r\n          <svg\r\n            className=\"w-6 h-6 cursor-pointer select-none text-black-light\"\r\n            onClick={handleFocus}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n            xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-bold\">\r\n          {likes === 1 ? `${likes} like` : `${likes} likes`}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useContext, useState } from \"react\";\r\nimport UserContext from \"../../context/user-context\";\r\nimport { addNewComment } from \"../../services/firebase-services\";\r\n\r\nexport default function AddComment({\r\n  docId,\r\n  comments,\r\n  setComments,\r\n  commentInput,\r\n}) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const {\r\n    user: { displayName },\r\n  } = useContext(UserContext);\r\n\r\n  const handleSubmit = async (ev) => {\r\n    ev.preventDefault();\r\n    setComments([{ displayName, comment }, ...comments]);\r\n    setComment(\"\");\r\n\r\n    await addNewComment(docId, displayName, comment);\r\n  };\r\n\r\n  return (\r\n    <div className=\"border-t border-gray-primary\">\r\n      <form className=\"flex justify-between pl-0 pr-5\" onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          name=\"add-comment\"\r\n          placeholder=\"Add a comment\"\r\n          className=\"text-sm text-gray-base w-full mr-3 py-5 px-4\"\r\n          value={comment}\r\n          onChange={({ target }) => setComment(target.value)}\r\n          ref={commentInput}\r\n        />\r\n        <button\r\n          className={`text-sm font-bold text-blue-medium ${\r\n            comment.length <= 1 && \"opacity-25\"\r\n          }`}\r\n          disabled={comment.length <= 1}>\r\n          POST\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { formatDistance } from \"date-fns\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddComment from \"./add-comment\";\r\n\r\nexport default function Comments({\r\n  docId,\r\n  allComments,\r\n  datePosted,\r\n  commentInput,\r\n}) {\r\n  let latestOnTopComments = [...allComments].reverse();\r\n  const [comments, setComments] = useState(latestOnTopComments);\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1\">\r\n        {comments.length >= 3 && (\r\n          <p className=\"text-sm text-gray-base mb-1 cursor-pointer\">\r\n            View all {comments.length} comments\r\n          </p>\r\n        )}\r\n        {comments.slice(0, 3).map((item) => (\r\n          <p key={`${item.displayName}-${item.comment}`} className=\"mb-1\">\r\n            <Link to={`/p/${item.displayName}`}>\r\n              <span className=\"mr-1 font-bold hover:underline\">\r\n                {item.displayName}\r\n              </span>\r\n            </Link>\r\n            <span className=\"text-gray-500 text-sm\">{item.comment}</span>\r\n          </p>\r\n        ))}\r\n        <p className=\"text-gray-base text-xs uppercase mt-2\">\r\n          {formatDistance(datePosted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      <AddComment\r\n        docId={docId}\r\n        comments={comments}\r\n        setComments={setComments}\r\n        commentInput={commentInput}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function Footer({ username, caption }) {\r\n  return (\r\n    <div className=\"p-4 pt-2 pb-0\">\r\n      <Link to={`/p/${username}`}>\r\n        <span className=\"mr-1 font-bold hover:underline\">{username}</span>\r\n      </Link>\r\n      <span className=\"text-gray-500 text-sm\">{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport UserImage from \"../user-image\";\r\n\r\nexport default function Header({ username }) {\r\n  return (\r\n    <div className=\"flex border-b border-gray-primary h-4 p-4 py-8\">\r\n      <div className=\"flex items-center\">\r\n        <Link to={`/p/${username}`} className=\"flex items-center\">\r\n          <UserImage\r\n            username={username}\r\n            className=\"rounded-full h-8 w-8 flex mr-3\"\r\n          />\r\n          <p className=\"font-bold  hover:underline\">{username}</p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n","import { useRef } from \"react\";\r\nimport Actions from \"./actions\";\r\nimport Comments from \"./comments\";\r\nimport Footer from \"./footer\";\r\nimport Header from \"./header\";\r\nimport Image from \"./image\";\r\n\r\nexport default function Post({ content }) {\r\n  const commentInput = useRef(null);\r\n  const handleFocus = () => commentInput.current.focus();\r\n\r\n  return (\r\n    <div className=\"rounded bg-white border border-gray-primary mb-16\">\r\n      <Header username={content.username} />\r\n      <Image src={content.imageSrc} caption={content.caption} />\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer username={content.username} caption={content.caption} />\r\n      <Comments\r\n        docId={content.docId}\r\n        allComments={content.comments}\r\n        datePosted={content.dateCreated}\r\n        commentInput={commentInput}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import Skeleton from \"react-loading-skeleton\";\r\nimport usePhotos from \"../hooks/use-photos\";\r\nimport Post from \"./post/post\";\r\n\r\nexport default function Timeline() {\r\n  const { photos } = usePhotos();\r\n\r\n  return (\r\n    <div className=\"container col-span-2\">\r\n      {!photos ? (\r\n        <Skeleton count={4} width={640} height={600} className=\"mb-5\" />\r\n      ) : photos?.length > 0 ? (\r\n        photos.map((item) => <Post key={item.docId} content={item} />)\r\n      ) : (\r\n        <p className=\"text-center text-2xl\">Follow people to see photos</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport LoggedInUserContext from \"../context/logged-in-user-context\";\r\nimport { getPhotosForTimeline } from \"../services/firebase-services\";\r\n\r\nexport default function usePhotos() {\r\n  const [photos, setPhotos] = useState(null);\r\n  const { user: { userId = \"\", following } = {} } = useContext(\r\n    LoggedInUserContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function getTimelinePhotos() {\r\n      let followedUserPhotos = [];\r\n      if (following.length > 0) {\r\n        followedUserPhotos = await getPhotosForTimeline(userId, following);\r\n      }\r\n      followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n      setPhotos(followedUserPhotos);\r\n    }\r\n    if (userId) getTimelinePhotos();\r\n  }, [userId, following]);\r\n\r\n  return { photos };\r\n}\r\n","import { useEffect } from \"react\";\r\nimport Header from \"../components/header\";\r\nimport Sidebar from \"../components/sidebar/sidebar\";\r\nimport Timeline from \"../components/timeline\";\r\nimport LoggedInUserContext from \"../context/logged-in-user-context\";\r\nimport useUser from \"../hooks/use-user\";\r\n\r\nexport default function Dashboard() {\r\n  const { user, setUser } = useUser();\r\n\r\n  useEffect(() => {\r\n    document.title = \"Insta Clone\";\r\n  }, []);\r\n\r\n  return (\r\n    <LoggedInUserContext.Provider value={{ user, setUser }}>\r\n      <div className=\"bg-gray-background\">\r\n        <Header />\r\n        <div className=\"container max-w-screen-lg mx-auto px-5\">\r\n          <div className=\"grid grid-cols-3 gap-4 justify-between\">\r\n            <Timeline />\r\n            <Sidebar />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </LoggedInUserContext.Provider>\r\n  );\r\n}\r\n"],"sourceRoot":""}